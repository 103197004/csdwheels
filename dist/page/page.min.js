!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.Page=t()}("undefined"!=typeof self?self:this,function(){"use strict";var t=function(e){if(!e.hasOwnProperty("dataCount"))throw"missing required arguments: dataCount";if(!e.hasOwnProperty("pageSize"))throw"missing required arguments: pageSize";if(!e.hasOwnProperty("element"))throw"missing required arguments: element";if(!(this instanceof t))return new t;this.pageType=e.pageType||1,this.pageShow=e.pageShow||3,this.pageList=document.getElementById(e.element),this.pageNumber=1,this.pageCount=Math.ceil(e.dataCount/e.pageSize),this.pageEvent=e.callback||function(){},this.renderPages(),this.changePage()};return t.prototype={construct:t,changePage:function(){var e,t,a,i=this,r=i.pageList;t="click",a=function(e){var t=e||window.event,a=t.target||t.srcElement;if("a"==a.nodeName.toLocaleLowerCase()){if("prev"===a.id)i.prevPage();else if("next"===a.id)i.nextPage();else if("first"===a.id)i.firstPage();else if("last"===a.id)i.lastPage();else{if("page"!==a.id)return;i.goPage(parseInt(a.innerHTML))}i.pageEvent()}},(e=r).addEventListener?e.addEventListener(t,a,!1):e.attachEvent?e.attachEvent("on"+t,function(){a.call(e)}):e["on"+t]=a},renderPages:function(){var e="";e=1===this.pageType?this.renderPageType1():this.renderPageType2(),this.pageList.innerHTML=e},renderPageType1:function(){var e,t="";return e=this.pageShow%2==0?2:1,t=this.pageNumber<(this.pageShow+e)/2?this.renderFirst():this.pageCount-this.pageNumber<(this.pageShow-e)/2?this.renderLast():this.renderCenter(),1<this.pageNumber&&(t="<li><a href='javascript:;' id='first'>首页</a></li><li><a href='javascript:;' id='prev'>前一页</a></li>"+t),this.pageNumber<this.pageCount&&(t+="<li><a href='javascript:;' id='next'>后一页</a></li><li><a href='javascript:;' id='last'>尾页</a></li>"),t},renderPageType2:function(){var e="";e="<li><a href='javascript:;' id='page' class='current'>"+this.pageNumber+"</a></li>";for(var t=1;t<=this.pageShow;t++)1<this.pageNumber-t&&(e="<li><a href='javascript:;' id='page'>"+parseInt(this.pageNumber-t)+"</a></li>"+e),this.pageNumber+t<this.pageCount&&(e=e+"<li><a href='javascript:;' id='page'>"+parseInt(this.pageNumber+t)+"</a></li>");return 1<this.pageNumber-(this.pageShow+1)&&(e="<li><a href='javascript:;' id=''>...</a></li>"+e),1<this.pageNumber&&(e="<li><a href='javascript:;' id='first'>首页</a></li><li><a href='javascript:;' id='prev'>前一页</a></li><li><a href='javascript:;' id='page'>1</a></li>"+e),this.pageNumber+this.pageShow+1<this.pageCount&&(e+="<li><a href='javascript:;' id=''>...</a></li>"),this.pageNumber<this.pageCount&&(e=e+"<li><a href='javascript:;' id='page'>"+this.pageCount+"</a></li><li><a href='javascript:;' id='next'>后一页</a></li><li><a href='javascript:;' id='last'>尾页</a></li>"),e},renderFirst:function(){return this.pageCount<this.pageShow?this.renderDom(1,this.pageCount):this.renderDom(1,this.pageShow)},renderLast:function(){return this.pageCount<this.pageShow?this.renderDom(1,this.pageCount):this.renderDom(this.pageCount-this.pageShow+1,this.pageCount)},renderCenter:function(){var e,t;return this.pageShow%2==0?(e=this.pageNumber-this.pageShow/2,t=this.pageNumber+(this.pageShow-2)/2):(e=this.pageNumber-(this.pageShow-1)/2,t=this.pageNumber+(this.pageShow-1)/2),this.renderDom(e,t)},renderDom:function(e,t){for(var a="",i=e;i<=t;i++){var r="";this.pageNumber===i&&(r=" class='current'"),a=a+"<li><a href='javascript:;' id='page'"+r+">"+i+"</a></li>"}return a},prevPage:function(){1<this.pageNumber&&(this.pageNumber--,this.renderPages())},nextPage:function(){this.pageNumber<this.pageCount&&(this.pageNumber++,this.renderPages())},goPage:function(e){this.pageNumber=e,this.renderPages()},firstPage:function(){this.pageNumber=1,this.renderPages()},lastPage:function(){this.pageNumber=this.pageCount,this.renderPages()}},t});