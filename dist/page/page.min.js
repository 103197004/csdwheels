!function(n,s,o){"use strict";function u(e){var a,t,i={},r=i.hasOwnProperty;return!(!e||"[object Object]"!==i.toString.call(e))&&(!(a=Object.getPrototypeOf(e))||"function"==typeof(t=r.call(a,"constructor")&&a.constructor)&&r.toString.call(t)===r.toString.call(Object))}function c(){var e,a,t,i,r,n,s=!1,p=arguments.length,g=1,h=arguments[0]||{};for("boolean"==typeof h&&(s=h,h=arguments[g]||{},g++),"object"==typeof h||isFunction(h)||(h={});g<p;g++)if(null!=(a=arguments[g]))for(e in a)t=h[e],h!==(i=a[e])&&(s&&i&&(u(i)||(n=Array.isArray(i)))?(n?(n=!1,r=t&&Array.isArray(t)?t:[]):r=t&&u(t)?t:{},h[e]=c(s,r,i)):i!==o&&(h[e]=i));return h}var a=function(e){if(!(this instanceof a))return new a;e.hasOwnProperty("dataCount")?e.hasOwnProperty("pageType")?(1==e.pageType?(e=c(!0,this.defaultOption1,e),this.pageMax=e.pageMax):(e=c(!0,this.defaultOption2,e),this.pageShow=e.pageShow),this.pageType=e.pageType,this.pageNumber=1,this.pageCount=Math.ceil(e.dataCount/e.pageSize),this.pageEvent=e.pageEvent,this.renderPages(),this.changePage()):console.log("请传入分页类型！"):console.log("请传入数据总数！")};a.prototype={construct:a,defaultOption1:{dataCount:0,pageSize:5,pageMax:5,pageType:1,pageEvent:function(e){}},defaultOption2:{dataCount:0,pageSize:5,pageShow:2,pageType:2,pageEvent:function(e){}},changePage:function(){var e,a,t,i=this,r=s.getElementById("pagelist");a="click",t=function(e){var a=e||n.event,t=a.target||a.srcElement;if("a"==t.nodeName.toLocaleLowerCase()){if("prev"===t.id)i.prevPage();else if("next"===t.id)i.nextPage();else if("first"===t.id)i.firstPage();else if("last"===t.id)i.lastPage();else{if("page"!==t.id)return;i.goPage(parseInt(t.innerHTML))}i.pageEvent(i.pageNumber)}},(e=r).addEventListener?e.addEventListener(a,t,!1):e.attachEvent?e.attachEvent("on"+a,function(){t.call(e)}):e["on"+a]=t},renderPages:function(){var e="";e=1===this.pageType?this.renderPageType1():this.renderPageType2(),s.getElementById("pagelist").innerHTML=e},renderPageType1:function(){var e,a="";return e=this.pageMax%2==0?2:1,a=this.pageNumber<(this.pageMax+e)/2?this.renderFirst():this.pageCount-this.pageNumber<(this.pageMax-e)/2?this.renderLast():this.renderCenter(),1<this.pageNumber&&(a="<li><a href='javascript:;' id='first'>首页</a></li><li><a href='javascript:;' id='prev'>前一页</a></li>"+a),this.pageNumber<this.pageCount&&(a+="<li><a href='javascript:;' id='next'>后一页</a></li><li><a href='javascript:;' id='last'>尾页</a></li>"),a},renderPageType2:function(){var e="";e="<li><a href='javascript:;' id='page' class='current'>"+this.pageNumber+"</a></li>";for(var a=1;a<=this.pageShow;a++)1<this.pageNumber-a&&(e="<li><a href='javascript:;' id='page'>"+parseInt(this.pageNumber-a)+"</a></li>"+e),this.pageNumber+a<this.pageCount&&(e=e+"<li><a href='javascript:;' id='page'>"+parseInt(this.pageNumber+a)+"</a></li>");return 1<this.pageNumber-(this.pageShow+1)&&(e="<li><a href='javascript:;' id=''>...</a></li>"+e),1<this.pageNumber&&(e="<li><a href='javascript:;' id='first'>首页</a></li><li><a href='javascript:;' id='prev'>前一页</a></li><li><a href='javascript:;' id='page'>1</a></li>"+e),this.pageNumber+this.pageShow+1<this.pageCount&&(e+="<li><a href='javascript:;' id=''>...</a></li>"),this.pageNumber<this.pageCount&&(e=e+"<li><a href='javascript:;' id='page'>"+this.pageCount+"</a></li><li><a href='javascript:;' id='next'>后一页</a></li><li><a href='javascript:;' id='last'>尾页</a></li>"),e},renderFirst:function(){return this.renderDom(1,this.pageMax)},renderLast:function(){return this.renderDom(this.pageCount-this.pageMax+1,this.pageCount)},renderCenter:function(){var e,a;return this.pageMax%2==0?(e=this.pageNumber-this.pageMax/2,a=this.pageNumber+(this.pageMax-2)/2):(e=this.pageNumber-(this.pageMax-1)/2,a=this.pageNumber+(this.pageMax-1)/2),this.renderDom(e,a)},renderDom:function(e,a){for(var t="",i=e;i<=a;i++){var r="";this.pageNumber===i&&(r=" class='current'"),t=t+"<li><a href='javascript:;' id='page'"+r+">"+i+"</a></li>"}return t},prevPage:function(){1<this.pageNumber&&(this.pageNumber--,this.renderPages())},nextPage:function(){this.pageNumber<this.pageCount&&(this.pageNumber++,this.renderPages())},goPage:function(e){this.pageNumber=e,this.renderPages()},firstPage:function(){this.pageNumber=1,this.renderPages()},lastPage:function(){this.pageNumber=this.pageCount,this.renderPages()}},n.Page=a}(window,document);