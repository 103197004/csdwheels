!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.Page=t()}("undefined"!=typeof self?self:this,function(){"use strict";function o(e){var t,a,i={},r=i.hasOwnProperty;return!(!e||"[object Object]"!==i.toString.call(e))&&(!(t=Object.getPrototypeOf(e))||"function"==typeof(a=r.call(t,"constructor")&&t.constructor)&&r.toString.call(a)===r.toString.call(Object))}function u(){var e,t,a,i,r,n,s=!1,p=arguments.length,g=1,h=arguments[0]||{};for("boolean"==typeof h&&(s=h,h=arguments[g]||{},g++),"object"==typeof h||isFunction(h)||(h={});g<p;g++)if(null!=(t=arguments[g]))for(e in t)a=h[e],h!==(i=t[e])&&(s&&i&&(o(i)||(n=Array.isArray(i)))?(n?(n=!1,r=a&&Array.isArray(a)?a:[]):r=a&&o(a)?a:{},h[e]=u(s,r,i)):void 0!==i&&(h[e]=i));return h}var t=function(e){if(!(this instanceof t))return new t;e.hasOwnProperty("dataCount")?e.hasOwnProperty("pageType")?e.hasOwnProperty("element")?(1==e.pageType?(e=u(!0,this.defaultOption1,e),this.pageMax=e.pageMax):(e=u(!0,this.defaultOption2,e),this.pageShow=e.pageShow),this.pageList=document.getElementById(e.element),this.pageType=e.pageType,this.pageNumber=1,this.pageCount=Math.ceil(e.dataCount/e.pageSize),this.pageEvent=e.pageEvent,this.renderPages(),this.changePage()):console.log("请传入分页器元素ID！"):console.log("请传入分页类型！"):console.log("请传入数据总数！")};return t.prototype={construct:t,defaultOption1:{dataCount:0,pageSize:5,pageMax:5,pageType:1,pageEvent:function(e){}},defaultOption2:{dataCount:0,pageSize:5,pageShow:2,pageType:2,pageEvent:function(e){}},changePage:function(){var e,t,a,i=this,r=i.pageList;t="click",a=function(e){var t=e||window.event,a=t.target||t.srcElement;if("a"==a.nodeName.toLocaleLowerCase()){if("prev"===a.id)i.prevPage();else if("next"===a.id)i.nextPage();else if("first"===a.id)i.firstPage();else if("last"===a.id)i.lastPage();else{if("page"!==a.id)return;i.goPage(parseInt(a.innerHTML))}i.pageEvent(i.pageNumber)}},(e=r).addEventListener?e.addEventListener(t,a,!1):e.attachEvent?e.attachEvent("on"+t,function(){a.call(e)}):e["on"+t]=a},renderPages:function(){var e="";e=1===this.pageType?this.renderPageType1():this.renderPageType2(),this.pageList.innerHTML=e},renderPageType1:function(){var e,t="";return e=this.pageMax%2==0?2:1,t=this.pageNumber<(this.pageMax+e)/2?this.renderFirst():this.pageCount-this.pageNumber<(this.pageMax-e)/2?this.renderLast():this.renderCenter(),1<this.pageNumber&&(t="<li><a href='javascript:;' id='first'>首页</a></li><li><a href='javascript:;' id='prev'>前一页</a></li>"+t),this.pageNumber<this.pageCount&&(t+="<li><a href='javascript:;' id='next'>后一页</a></li><li><a href='javascript:;' id='last'>尾页</a></li>"),t},renderPageType2:function(){var e="";e="<li><a href='javascript:;' id='page' class='current'>"+this.pageNumber+"</a></li>";for(var t=1;t<=this.pageShow;t++)1<this.pageNumber-t&&(e="<li><a href='javascript:;' id='page'>"+parseInt(this.pageNumber-t)+"</a></li>"+e),this.pageNumber+t<this.pageCount&&(e=e+"<li><a href='javascript:;' id='page'>"+parseInt(this.pageNumber+t)+"</a></li>");return 1<this.pageNumber-(this.pageShow+1)&&(e="<li><a href='javascript:;' id=''>...</a></li>"+e),1<this.pageNumber&&(e="<li><a href='javascript:;' id='first'>首页</a></li><li><a href='javascript:;' id='prev'>前一页</a></li><li><a href='javascript:;' id='page'>1</a></li>"+e),this.pageNumber+this.pageShow+1<this.pageCount&&(e+="<li><a href='javascript:;' id=''>...</a></li>"),this.pageNumber<this.pageCount&&(e=e+"<li><a href='javascript:;' id='page'>"+this.pageCount+"</a></li><li><a href='javascript:;' id='next'>后一页</a></li><li><a href='javascript:;' id='last'>尾页</a></li>"),e},renderFirst:function(){return this.pageCount<this.pageMax?this.renderDom(1,this.pageCount):this.renderDom(1,this.pageMax)},renderLast:function(){return this.pageCount<this.pageMax?this.renderDom(1,this.pageCount):this.renderDom(this.pageCount-this.pageMax+1,this.pageCount)},renderCenter:function(){var e,t;return this.pageMax%2==0?(e=this.pageNumber-this.pageMax/2,t=this.pageNumber+(this.pageMax-2)/2):(e=this.pageNumber-(this.pageMax-1)/2,t=this.pageNumber+(this.pageMax-1)/2),this.renderDom(e,t)},renderDom:function(e,t){for(var a="",i=e;i<=t;i++){var r="";this.pageNumber===i&&(r=" class='current'"),a=a+"<li><a href='javascript:;' id='page'"+r+">"+i+"</a></li>"}return a},prevPage:function(){1<this.pageNumber&&(this.pageNumber--,this.renderPages())},nextPage:function(){this.pageNumber<this.pageCount&&(this.pageNumber++,this.renderPages())},goPage:function(e){this.pageNumber=e,this.renderPages()},firstPage:function(){this.pageNumber=1,this.renderPages()},lastPage:function(){this.pageNumber=this.pageCount,this.renderPages()}},t});