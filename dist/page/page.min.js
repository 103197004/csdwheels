!function(r,a,e){"use strict";var i=function(e,t,a){if(!(this instanceof i))return new i;this.pageMax=a,this.pageNumber=1,this.pageCount=Math.ceil(e/t),this.renderPages(),this.changePage()};i.prototype={construct:i,bindEvent:function(){void 0!==this.pageEvent&&this.pageEvent()},changePage:function(){var i=this;a.getElementById("pagelist").onclick=function(e){var t=e||r.event,a=t.target||t.srcElement;if("a"==a.nodeName.toLocaleLowerCase())switch(a.id){case"prev":i.prevPage(),i.bindEvent();break;case"next":i.nextPage(),i.bindEvent();break;case"first":i.firstPage(),i.bindEvent();break;case"last":i.lastPage(),i.bindEvent();break;case"page":i.goPage(parseInt(a.innerHTML)),i.bindEvent()}}},renderPages:function(){var e,t="";e=this.pageMax%2==0?2:1,t=this.pageNumber<(this.pageMax+e)/2?this.renderFirst():this.pageCount-this.pageNumber<(this.pageMax-e)/2?this.renderLast():this.renderCenter(),1<this.pageNumber&&(t="<li><a href='javascript:;' id='first'>首页</a></li><li><a href='javascript:;' id='prev'>前一页</a></li>"+t),this.pageNumber<this.pageCount&&(t+="<li><a href='javascript:;' id='next'>后一页</a></li><li><a href='javascript:;' id='last'>尾页</a></li>"),a.getElementById("pagelist").innerHTML=t},renderFirst:function(){return this.renderDom(1,this.pageMax)},renderLast:function(){return this.renderDom(this.pageCount-this.pageMax+1,this.pageCount)},renderCenter:function(){var e,t;return this.pageMax%2==0?(e=this.pageNumber-this.pageMax/2,t=this.pageNumber+(this.pageMax-2)/2):(e=this.pageNumber-(this.pageMax-1)/2,t=this.pageNumber+(this.pageMax-1)/2),this.renderDom(e,t)},renderDom:function(e,t){for(var a="",i=e;i<=t;i++){var r="";this.pageNumber===i&&(r=" class='current'"),a=a+"<li><a href='javascript:;' id='page'"+r+">"+i+"</a></li>"}return a},prevPage:function(){1<this.pageNumber&&(this.pageNumber--,this.renderPages())},nextPage:function(){this.pageNumber<this.pageCount&&(this.pageNumber++,this.renderPages())},goPage:function(e){this.pageNumber=e,this.renderPages()},firstPage:function(){this.pageNumber=1,this.renderPages()},lastPage:function(){this.pageNumber=this.pageCount,this.renderPages()}},r.Page=i}(window,document);