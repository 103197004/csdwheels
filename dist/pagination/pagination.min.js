!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.Pagination=t()}("undefined"!=typeof self?self:this,function(){"use strict";var e=function(e,t,n){this.options={pageShow:2,ellipsis:!0},function(e,t,n){for(var i in t)!t.hasOwnProperty(i)||e.hasOwnProperty(i)&&!n||(e[i]=t[i])}(this.options,t,!0),this.pageElement=document.getElementById(e),this.pageEvent=n};return e.prototype={construct:e,initPage:function(e,t){this.dataCount=e,this.pageNumber=t,this.pageCount=Math.ceil(this.dataCount/this.options.pageSize),this.renderPages(),this.changePage()},changePage:function(){var e,t,n,i=this,a=i.pageElement;t="click",n=function(e){var t=e||window.event,n=t.target||t.srcElement;if("a"==n.nodeName.toLocaleLowerCase()){if("prev"===n.id)i.prevPage();else if("next"===n.id)i.nextPage();else if("first"===n.id)i.firstPage();else if("last"===n.id)i.lastPage();else{if("page"!==n.id)return;i.goPage(parseInt(n.innerHTML))}i.pageEvent(i.pageNumber,i.options.pageSize)}},(e=a).addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,function(){n.call(e)}):e["on"+t]=n},renderPages:function(){this.pageElement.innerHTML="",this.options.ellipsis?this.pageElement.appendChild(this.renderEllipsis()):this.pageElement.appendChild(this.renderNoEllipsis())},renderNoEllipsis:function(){var e,t=document.createDocumentFragment(),n=2*this.options.pageShow+1;return e=n%2==0?2:1,this.pageNumber<(n+e)/2?t.appendChild(this.renderFirst(n)):this.pageCount-this.pageNumber<(n-e)/2?t.appendChild(this.renderLast(n)):t.appendChild(this.renderCenter(n)),1<this.pageNumber&&t.insertBefore(this.createHtml([{id:"first",className:"",content:"首页"},{id:"prev",className:"",content:"前一页"}]),t.firstChild),this.pageNumber<this.pageCount&&t.appendChild(this.createHtml([{id:"next",className:"",content:"后一页"},{id:"last",className:"",content:"尾页"}])),t},renderEllipsis:function(){var e=document.createDocumentFragment();e.appendChild(this.createHtml([{id:"page",className:"current",content:this.pageNumber}]));for(var t=1;t<=this.options.pageShow;t++)1<this.pageNumber-t&&e.insertBefore(this.createHtml([{id:"page",className:"",content:this.pageNumber-t}]),e.firstChild),this.pageNumber+t<this.pageCount&&e.appendChild(this.createHtml([{id:"page",className:"",content:this.pageNumber+t}]));return 1<this.pageNumber-(this.options.pageShow+1)&&e.insertBefore(this.createHtml([{id:"",className:"",content:"..."}]),e.firstChild),1<this.pageNumber&&e.insertBefore(this.createHtml([{id:"first",className:"",content:"首页"},{id:"prev",className:"",content:"前一页"},{id:"page",className:"",content:"1"}]),e.firstChild),this.pageNumber+this.options.pageShow+1<this.pageCount&&e.appendChild(this.createHtml([{id:"",className:"",content:"..."}])),this.pageNumber<this.pageCount&&e.appendChild(this.createHtml([{id:"page",className:"",content:this.pageCount},{id:"next",className:"",content:"后一页"},{id:"last",className:"",content:"尾页"}])),e},createHtml:function(e){var a=document.createDocumentFragment();return e.forEach(function(e,t){var n=document.createElement("li"),i=document.createElement("a");i.setAttribute("href","javascript:;"),i.setAttribute("id",e.id),i.setAttribute("class",e.className),i.innerHTML=e.content,n.appendChild(i),a.appendChild(n)}),a},renderFirst:function(e){return this.pageCount<e?this.renderDom(1,this.pageCount):this.renderDom(1,e)},renderLast:function(e){return this.pageCount<e?this.renderDom(1,this.pageCount):this.renderDom(this.pageCount-e+1,this.pageCount)},renderCenter:function(e){var t,n;return e%2==0?(t=this.pageNumber-e/2,n=this.pageNumber+(e-2)/2):(t=this.pageNumber-(e-1)/2,n=this.pageNumber+(e-1)/2),this.renderDom(t,n)},renderDom:function(e,t){for(var n=document.createDocumentFragment(),i=e;i<=t;i++){var a="";this.pageNumber===i&&(a="current"),n.appendChild(this.createHtml([{id:"page",className:a,content:i}]))}return n},prevPage:function(){1<this.pageNumber&&(this.pageNumber--,this.renderPages())},nextPage:function(){this.pageNumber<this.pageCount&&(this.pageNumber++,this.renderPages())},goPage:function(e){this.pageNumber=e,this.renderPages()},firstPage:function(){this.pageNumber=1,this.renderPages()},lastPage:function(){this.pageNumber=this.pageCount,this.renderPages()}},e});