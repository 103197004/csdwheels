!function(n,s,u){"use strict";function c(e){var t,a,r={},i=r.hasOwnProperty;return!(!e||"[object Object]"!==r.toString.call(e))&&(!(t=Object.getPrototypeOf(e))||"function"==typeof(a=i.call(t,"constructor")&&t.constructor)&&i.toString.call(a)===i.toString.call(Object))}var t=function(e){if(!(this instanceof t))return new t;e=function e(){var t,a,r,i,n,s,g=!1,o=arguments.length,p=1,h=arguments[0]||{};for("boolean"==typeof h&&(g=h,h=arguments[p]||{},p++),"object"==typeof h||isFunction(h)||(h={});p<o;p++)if(null!=(a=arguments[p]))for(t in a)r=h[t],h!==(i=a[t])&&(g&&i&&(c(i)||(s=Array.isArray(i)))?(s?(s=!1,n=r&&Array.isArray(r)?r:[]):n=r&&c(r)?r:{},h[t]=e(g,n,i)):i!==u&&(h[t]=i));return h}(!0,this.defaultOption,e),this.pageMax=e.pageMax,this.pageNumber=1,this.pageCount=Math.ceil(e.dataCount/e.pageSize),this.pageEvent=e.pageEvent,this.renderPages(),this.changePage()};function e(e,t){for(var a=e+"",r=1;r<=2;r++)1<e-r&&(a=e-r+" "+a),e+r<t&&(a=a+" "+(e+r));return 1<e-3&&(a="... "+a),1<e&&(a="上一页 1 "+a),e+3<t&&(a+=" ..."),e<t&&(a=a+" "+t+" 下一页"),a}t.prototype={construct:t,defaultOption:{dataCount:162,pageSize:7,pageMax:5,pageType:"normal",pageEvent:function(){}},changePage:function(){var e,t,a,r=this,i=s.getElementById("pagelist");t="click",a=function(e){var t=e||n.event,a=t.target||t.srcElement;"a"==a.nodeName.toLocaleLowerCase()&&("prev"===a.id?r.prevPage():"next"===a.id?r.nextPage():"first"===a.id?r.firstPage():"last"===a.id?r.lastPage():r.goPage(parseInt(a.innerHTML)),r.pageEvent())},(e=i).addEventListener?e.addEventListener(t,a,!1):e.attachEvent?e.attachEvent("on"+t,function(){a.call(e)}):e["on"+t]=a},renderPages:function(){var e,t="";e=this.pageMax%2==0?2:1,t=this.pageNumber<(this.pageMax+e)/2?this.renderFirst():this.pageCount-this.pageNumber<(this.pageMax-e)/2?this.renderLast():this.renderCenter(),1<this.pageNumber&&(t="<li><a href='javascript:;' id='first'>首页</a></li><li><a href='javascript:;' id='prev'>前一页</a></li>"+t),this.pageNumber<this.pageCount&&(t+="<li><a href='javascript:;' id='next'>后一页</a></li><li><a href='javascript:;' id='last'>尾页</a></li>"),s.getElementById("pagelist").innerHTML=t},renderFirst:function(){return this.renderDom(1,this.pageMax)},renderLast:function(){return this.renderDom(this.pageCount-this.pageMax+1,this.pageCount)},renderCenter:function(){var e,t;return this.pageMax%2==0?(e=this.pageNumber-this.pageMax/2,t=this.pageNumber+(this.pageMax-2)/2):(e=this.pageNumber-(this.pageMax-1)/2,t=this.pageNumber+(this.pageMax-1)/2),this.renderDom(e,t)},renderDom:function(e,t){for(var a="",r=e;r<=t;r++){var i="";this.pageNumber===r&&(i=" class='current'"),a=a+"<li><a href='javascript:;' id='page'"+i+">"+r+"</a></li>"}return a},prevPage:function(){1<this.pageNumber&&(this.pageNumber--,this.renderPages())},nextPage:function(){this.pageNumber<this.pageCount&&(this.pageNumber++,this.renderPages())},goPage:function(e){this.pageNumber=e,this.renderPages()},firstPage:function(){this.pageNumber=1,this.renderPages()},lastPage:function(){this.pageNumber=this.pageCount,this.renderPages()}};for(var a=1;a<=50;a++){var r=e(a,50);console.log(r)}n.Page=t}(window,document);