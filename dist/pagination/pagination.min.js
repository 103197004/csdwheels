!function(e,i){"function"==typeof define&&define.amd?define([],i):"object"==typeof module&&module.exports?module.exports=i():e.Pagination=i()}("undefined"!=typeof self?self:this,function(){"use strict";var e=function(e,i,t){this.options={pageShow:2,ellipsis:!0},function(e,i,t){for(var a in i)!i.hasOwnProperty(a)||e.hasOwnProperty(a)&&!t||(e[a]=i[a])}(this.options,i,!0),this.pageElement=document.getElementById(e),this.pageEvent=t};return e.prototype={construct:e,initPage:function(e,i){this.dataCount=e,this.pageNumber=i,this.pageCount=Math.ceil(this.dataCount/this.options.pageSize),this.renderPages(),this.changePage()},changePage:function(){var e,i,t,a=this,r=a.pageElement;i="click",t=function(e){var i=e||window.event,t=i.target||i.srcElement;if("a"==t.nodeName.toLocaleLowerCase()){if("prev"===t.id)a.prevPage();else if("next"===t.id)a.nextPage();else if("first"===t.id)a.firstPage();else if("last"===t.id)a.lastPage();else{if("page"!==t.id)return;a.goPage(parseInt(t.innerHTML))}a.pageEvent(a.pageNumber,a.options.pageSize)}},(e=r).addEventListener?e.addEventListener(i,t,!1):e.attachEvent?e.attachEvent("on"+i,function(){t.call(e)}):e["on"+i]=t},renderPages:function(){var e="";e=this.options.ellipsis?this.renderEllipsis():this.renderNoEllipsis(),this.pageElement.innerHTML=e},renderNoEllipsis:function(){var e,i="",t=2*this.options.pageShow+1;return e=t%2==0?2:1,i=this.pageNumber<(t+e)/2?this.renderFirst(t):this.pageCount-this.pageNumber<(t-e)/2?this.renderLast(t):this.renderCenter(t),1<this.pageNumber&&(i="<li><a href='javascript:;' id='first'>首页</a></li><li><a href='javascript:;' id='prev'>前一页</a></li>"+i),this.pageNumber<this.pageCount&&(i+="<li><a href='javascript:;' id='next'>后一页</a></li><li><a href='javascript:;' id='last'>尾页</a></li>"),i},renderEllipsis:function(){var e="";e="<li><a href='javascript:;' id='page' class='current'>"+this.pageNumber+"</a></li>";for(var i=1;i<=this.options.pageShow;i++)1<this.pageNumber-i&&(e="<li><a href='javascript:;' id='page'>"+parseInt(this.pageNumber-i)+"</a></li>"+e),this.pageNumber+i<this.pageCount&&(e=e+"<li><a href='javascript:;' id='page'>"+parseInt(this.pageNumber+i)+"</a></li>");return 1<this.pageNumber-(this.options.pageShow+1)&&(e="<li><a href='javascript:;' id=''>...</a></li>"+e),1<this.pageNumber&&(e="<li><a href='javascript:;' id='first'>首页</a></li><li><a href='javascript:;' id='prev'>前一页</a></li><li><a href='javascript:;' id='page'>1</a></li>"+e),this.pageNumber+this.options.pageShow+1<this.pageCount&&(e+="<li><a href='javascript:;' id=''>...</a></li>"),this.pageNumber<this.pageCount&&(e=e+"<li><a href='javascript:;' id='page'>"+this.pageCount+"</a></li><li><a href='javascript:;' id='next'>后一页</a></li><li><a href='javascript:;' id='last'>尾页</a></li>"),e},renderFirst:function(e){return this.pageCount<e?this.renderDom(1,this.pageCount):this.renderDom(1,e)},renderLast:function(e){return this.pageCount<e?this.renderDom(1,this.pageCount):this.renderDom(this.pageCount-e+1,this.pageCount)},renderCenter:function(e){var i,t;return e%2==0?(i=this.pageNumber-e/2,t=this.pageNumber+(e-2)/2):(i=this.pageNumber-(e-1)/2,t=this.pageNumber+(e-1)/2),this.renderDom(i,t)},renderDom:function(e,i){for(var t="",a=e;a<=i;a++){var r="";this.pageNumber===a&&(r=" class='current'"),t=t+"<li><a href='javascript:;' id='page'"+r+">"+a+"</a></li>"}return t},prevPage:function(){1<this.pageNumber&&(this.pageNumber--,this.renderPages())},nextPage:function(){this.pageNumber<this.pageCount&&(this.pageNumber++,this.renderPages())},goPage:function(e){this.pageNumber=e,this.renderPages()},firstPage:function(){this.pageNumber=1,this.renderPages()},lastPage:function(){this.pageNumber=this.pageCount,this.renderPages()}},e});